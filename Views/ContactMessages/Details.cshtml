@model PassItOnAcademy.ViewModels.AdminMessageDetailsVM
@using PassItOnAcademy.Models
@{
    ViewData["Title"] = "Message";
}

<section class="space-y-6">
    <a asp-action="Index" class="text-sm text-zinc-600 hover:text-black">← Back to messages</a>

    <header class="flex items-center justify-between">
        <div>
            <h1 class="text-2xl font-extrabold">@Model.Subject</h1>
            <p class="text-zinc-600 text-sm">
                From @Model.Name (@Model.Email@((!string.IsNullOrWhiteSpace(Model.Phone) ? " · " + Model.Phone : "")))
                on @Model.CreatedLocal.ToString("yyyy-MM-dd HH:mm")
            </p>
        </div>

        <div class="flex items-center gap-2">
            <form asp-action="MarkRead" asp-route-id="@Model.Id" method="post">
                @Html.AntiForgeryToken()
                <button class="rounded-lg border border-zinc-300 px-3 py-1.5 text-sm hover:bg-zinc-100">Mark read</button>
            </form>
            <form asp-action="Archive" asp-route-id="@Model.Id" method="post">
                @Html.AntiForgeryToken()
                <button class="rounded-lg border border-zinc-300 px-3 py-1.5 text-sm hover:bg-zinc-100">Archive</button>
            </form>
            <form asp-action="Delete" asp-route-id="@Model.Id" method="post" onsubmit="return confirm('Delete this message?');">
                @Html.AntiForgeryToken()
                <button class="rounded-lg bg-red-600 px-3 py-1.5 text-sm text-white hover:bg-red-700">Delete</button>
            </form>
        </div>
    </header>

    <article class="rounded-2xl border border-zinc-200 bg-white p-6 shadow-sm whitespace-pre-wrap">
        @Model.Message
    </article>
</section>
